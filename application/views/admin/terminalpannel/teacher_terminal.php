

  <link rel="stylesheet" href="<?php echo base_url('public/dist/css/sweetalert.css');?>">
  <script src="<?=base_url() ?>public/assets/plugins/common/common.min.js"></script>
    <script src="<?=base_url() ?>public/js/custom.min.js"></script>
    <script src="<?=base_url() ?>public/js/settings.js"></script>
    <script src="<?=base_url() ?>public/js/gleek.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="<?=base_url() ?>public/js/styleSwitcher.js"></script>
    

    <?php $this->load->view('admin/terminalpannel/alertmodal');?>
   

<div class="modal " tabindex="-1" role="dialog" id="terminal_modal" >
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Attenda Track</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid" style="padding:20px;">
                    <div class="row">
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                <span class="info-box-icon bg-aqua"><i class="fa fa-hand-grab-o"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text-sm">Rest Room</span>
                                </div>
                                <!-- /.info-box-content -->
                                </div>
                                <!-- /.info-box -->
                            </div>
                                <!---------------------- /.end ---------------------------->
                            
                            <div class="col-md-3 col-sm-6 col-xs-12">
                            <a href="#" class="options">
                                <div class="info-box">
                                    <span class="info-box-icon bg-green"><i class="fa fa-flag-o"></i></span>
                                    <div class="info-box-content">
                                        <a href="#" class="options">
                                        <span class="info-box-text-sm">Administration</span>
                                        <span class="info-box-number"></span>
                                        </a>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div></a>
                                <!-- /.info-box -->
                            </div>
                             
                                <!---------------------- /.end ---------------------------->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-aqua"><i class="fa fa-hand-grab-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Rest Room</span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                                <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <a href="#">
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-green"><i class="fa fa-flag-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Administration</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                                <!-- /.info-box -->
                            </div>
                            </a>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-aqua"><i class="fa fa-bus"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Transportation</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                                <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-red"><i class="fa fa-star-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Lockers Backpack</span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                            <!-- /.info-box -->
                            </div>
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-aqua"><i class="fa fa-envelope-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Drinking Fountain </span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                            <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-green"><i class="fa fa-flag-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Attendace Office</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                            <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <a href="#">
                                <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-yellow"><i class="fa-files-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Examination</span>
                                        <span class="info-box-number">13,648</span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                                <!-- /.info-box -->
                                </div>
                            </a>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-red"><i class="fa fa-bank"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Finance Management</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                            <!-- /.info-box -->
                            </div>
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-aqua"><i class="fa fa-envelope-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Library</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                            <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-green"><i class="fa fa-flag-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Study Hall</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                                <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-yellow"><i class="fa fa-files-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Cafeteria</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                             <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-red"><i class="fa fa-star-o"></i></span>

                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Other</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                            <!-- /.info-box -->
                            </div>
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-aqua"><i class="fa fa-toggle-on"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Student Dismissal</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                            <!-- /.info-box -->
                            </div>
                            <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-green"><i class="fa fa-flag-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Bookmarks</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                                <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-yellow"><i class="fa fa-files-o"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text-sm">Speak To Counselor</span>
                                        <span class="info-box-number"></span>
                                    </div>
                                    <!-- /.info-box-content -->
                                </div>
                             <!-- /.info-box -->
                            </div>
                                        <!-- /.col -->
                            <div class="col-md-3 col-sm-6 col-xs-12">
                            <div class="info-box">
                                <span class="info-box-icon bg-red"><i class="fa fa-mortar-board"></i></span>

                                <div class="info-box-content">
                                    <span class="info-box-text-sm"></span>
                                    <span class="info-box-number"></span>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->
                            </div>
                    </div><!-- /.row -->
                </div><!-- /.container -->
            </div><!-- /.modalbpdy -->
            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button> -->
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
           
  
  

<style>
.bg-red, .bg-yellow, .bg-aqua, .bg-blue, .bg-light-blue, .bg-green, 
.bg-navy, .bg-teal, .bg-olive, .bg-lime, .bg-orange, .bg-fuchsia, 
.bg-purple, .bg-maroon, .bg-black, .bg-red-active, .bg-yellow-active, 
.bg-aqua-active, .bg-blue-active, .bg-light-blue-active, .bg-green-active, 
.bg-navy-active, .bg-teal-active, .bg-olive-active, .bg-lime-active, 
.bg-orange-active, .bg-fuchsia-active, .bg-purple-active, .bg-maroon-active, 
.bg-black-active, .callout.callout-danger, .callout.callout-warning, .callout.callout-info, 
.callout.callout-success, .alert-success, .alert-danger, .alert-error, .alert-warning, .alert-info,
 .label-danger, .label-info, .label-warning, .label-primary, .label-success, .modal-primary .modal-body,
  .modal-primary .modal-header, .modal-primary .modal-footer, .modal-warning .modal-body, .modal-warning .modal-header,
   .modal-warning .modal-footer, .modal-info .modal-body, .modal-info .modal-header, .modal-info .modal-footer,
    .modal-success .modal-body, .modal-success .modal-header, .modal-success .modal-footer, .modal-danger .modal-body,
     .modal-danger .modal-header, .modal-danger .modal-footer{
  color: #ffff !important;
}


      html,body {
        padding:0;
        margin:0;
        background:#fffff;
       
       
      }

    

      h1,
      h2 {
        margin-bottom:3rem;
        font-family:sans-serif;
        color:#666;
      }

      h2 {
        margin-top:2em;
      }

      .clock {
        position:relative;
        font-family:monaco,consolas,"courier new",monospace;
        font-size:3.5rem;
        text-align:center;
      
        margin-left:20px;
        line-height:1.375;
      }

      .clock:before,
      .clock:after {
        position:absolute;
        top:0;
        bottom:0;
        content:':';
        text-align: center;
        z-index:2;
        line-height:1.15;
        color:#333;
      }

      .clock:before {
        left:2.325em;
      }

      .clock:after {
        right:2.325em;
      }

      .clock span {
        position:relative;
        display:inline-block;
        padding:0 .25em;
        margin:0 .06125em;
        text-align:center;
        z-index:1;

        -webkit-transform:perspective(750);
        -moz-transform:perspective(750);
        -ms-transform:perspective(750);
        transform:perspective(750);

        -webkit-transform-style:preserve-3d;
        -moz-transform-style:preserve-3d;
        -ms-transform-style:preserve-3d;
        transform-style:preserve-3d;
      }

      .clock span:first-child {
        margin-left:0;
      }

      .clock span:last-child {
        margin-right:0;
      }

      .clock span:nth-child(2),
      .clock span:nth-child(4) {
        margin-right:.3em;
      }

      .clock span:nth-child(3),
      .clock span:nth-child(5) {
        margin-left:.3em;
      }

      .clock span:before,
      .clock span:after {
        position:absolute;
        left:0;
        top:0;
        right:0;
        bottom:0;
        color:#eee;
        text-shadow:0 1px 0 #fff;
        background:#333;
        border-radius:.125em;
        outline:1px solid transparent; /* fix jagged edges in ff */

        -webkit-backface-visibility:hidden;
        -moz-backface-visibility:hidden;
        -ms-backface-visibility:hidden;
        backface-visibility:hidden;

        -webkit-transition:-webkit-transform .75s, opacity .75s;
        -moz-transition:-moz-transform .75s, opacity .75s;
        -ms-transition:-ms-transform .75s, opacity .75s;
        transition:transform .75s, opacity .75s;
      }

      .clock span:before {
        opacity:1;
        z-index:1;
        content:attr(data-old);

        -webkit-transform-origin:0 0;
        -moz-transform-origin:0 0;
        -ms-transform-origin:0 0;
        transform-origin:0 0;

        -webkit-transform:translate3d(0,0,0) rotateX(0);
        -moz-transform:translate3d(0,0,0) rotateX(0);
        -ms-transform:translate3d(0,0,0) rotateX(0);
        transform:translate3d(0,0,0) rotateX(0);
      }

      .clock span:after {
        opacity:0;
        z-index:2;
        content:attr(data-now);

        -webkit-transform-origin:0 100%;
        -moz-transform-origin:0 100%;
        -ms-transform-origin:0 100%;
        transform-origin:0 100%;

        -webkit-transform:translate3d(0,-102.5%,0) rotateX(90deg);
        -moz-transform:translate3d(0,-102.5%,0) rotateX(90deg);
        -ms-transform:translate3d(0,-102.5%,0) rotateX(90deg);
        transform:translate3d(0,-102.5%,0) rotateX(90deg);
      }

      .clock .flip:before {
        opacity:0;
        -webkit-transform:translate3d(0,102.5%,0) rotateX(-90deg);
        -moz-transform:translate3d(0,102.5%,0) rotateX(-90deg);
        -ms-transform:translate3d(0,102.5%,0) rotateX(-90deg);
        transform:translate3d(0,102.5%,0) rotateX(-90deg);
      }

      .clock .flip:after {
        opacity:1;
        -webkit-transform:translate3d(0,0,0) rotateX(0);
        -moz-transform:translate3d(0,0,0) rotateX(0);
        -ms-transform:translate3d(0,0,0) rotateX(0);
        transform:translate3d(0,0,0) rotateX(0);
      }
      .bg-aqua,
.callout.callout-info,
.alert-info,
.label-info,
.modal-info .modal-body {
  background-color: #00c0ef !important;
}
.info-box {
  display: block;
  min-height: 90px;
  background: #fff;
  width: 100%;
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
  border-radius: 2px;
  margin-bottom: 15px;
}
.info-box small {
  font-size: 14px;
}
.info-box .progress {
  background: rgba(0, 0, 0, 0.2);
  margin: 5px -10px 5px -10px;
  height: 2px;
}
.info-box .progress,
.info-box .progress .progress-bar {
  border-radius: 0;
}
.info-box .progress .progress-bar {
  background: #fff;
}
.info-box-icon {
  border-top-left-radius: 2px;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 2px;
  display: block;
  float: left;
  height: 90px;
  width: 90px;
  text-align: center;
  font-size: 45px;
  line-height: 90px;
  background: rgba(0, 0, 0, 0.2);
}
.info-box-icon > img {
  max-width: 100%;
}
.info-box-content {
  padding: 5px 10px;
  margin-left: 90px;
}
.info-box-number {
  display: block;
  font-weight: bold;
  font-size: 12px;
}

</style>

<section >


<div class="container bg-success bg-aqua" style="padding-top:40px;padding-bottom:50px;  " >
  <div class="col-md-12 col-sm-6 col-xs-12">
        <div class="pull-left col-md-2" >
          <h3>Room:SGYM</h3>
          <h4>Period: <span class="text-success">3rd</span> </h4>
        </div>  

         <div class="pull-right col-md-2">
        <br>
        <h4 class="pull-right"> <a href="<?php echo base_url('Auth/logout');?>"><i class="fa fa-power-off bg-white"></i>LogOut</a></h4>
        </div>
 
   </div>
   <div class=col-md-3>
  </div>
    <div class="pull center col-md-6 col-sm-6 col-xs-12">
        <div class="pull-center" >
        
        <br>  <br> <br>  <br> <br> <br>
       
        <span class="clock "></span>
        <br>  <br>
        </div>  
        
        <div class="form-group">
        <div class="col-md-12">
        <div class="col-md-11">

              <input type="text" id="student_id" class="form-control" placeholder="Student ID"  value="">
              
  
          </div>
          <div class="col-md-1">
            <button id="show_terminal_modal" class="btn btn-primary ">Enter</button>
          </div>
        </div>
          
        </div>
        
         <div class="pull-right col-md-2">
        <br>
        </div>
    </div>
    <div class=col-md-3>
    </div>
</section>
<section>
<div class="container bg-success bg-aqua" style="padding-bottom:50px;" >
  <div class="row">
  <div class="col-md-3 col-sm-6 col-xs-12">
          <div class="info-box bg-aqua">
              <span class="info-box-icon bg-aqua"><i class="fa fa-user"></i></span>
              <div class="info-box-content bg-aqua">
                  <br>
                  <span class="info-box-text-sm bg-aqua">Teacher</span>
                  <span class="info-box-number bg-aqua" id="TeacherName">Jim Doe</span>
              </div>
              <!-- /.info-box-content -->
          </div>
        <!-- /.info-box -->
      </div>

      <div class="col-md-3 col-sm-6 col-xs-12">
          <div class="info-box bg-aqua">
              <span class="info-box-icon bg-aqua"><i class="fa fa-calendar-minus-o"></i></span>
              <div class="info-box-content">
              <br>
                  <span class="info-box-text-sm">Subject</span>
                  <span class="info-box-number" id="SubjectName">Physical Education</span>
              </div>
              <!-- /.info-box-content -->
          </div>
        <!-- /.info-box -->
      </div>
    
      <div class="col-md-3 col-sm-6 col-xs-12">
          <div class="info-box bg-aqua">
              <span class="info-box-icon bg-aqua"><i class="fa fa-unlock-alt"></i></span>
              <div class="info-box-content">
              <br>
                  <span class="info-box-text-sm">Available Until</span>
                  <span class="info-box-number" id="AvailableTime">12:45:00</span>
              </div>
              <!-- /.info-box-content -->
          </div>
        <!-- /.info-box -->
      </div>
      <div class="col-md-3 col-sm-6 col-xs-12">
          <div class="info-box bg-aqua">
              <span class="info-box-icon bg-aqua"><i class="fa fa-lock"></i></span>
              <div class="info-box-content">
              <br>
                  <span class="info-box-text-sm">Hall Pass Locked</span>
                  <span class="info-box-number" id="AvailableHPTime">12:39:00</span>
              </div>
              <!-- /.info-box-content -->
          </div>
        <!-- /.info-box -->
      </div>

  </div>
</div>
</section>
  
  

  <!-- Automatic element centering 
 
 
  <!-- /.center -->

  <!-- jQuery 2.2.3 -->
  <script src="<?= base_url() ?>public/plugins/jQuery/jquery-2.2.3.min.js"></script>
  <!-- Bootstrap 3.3.6 -->
  <script src="<?= base_url() ?>public/bootstrap/js/bootstrap.min.js"></script>
  <script src="<?php echo base_url('public/dist/js/sweetalert.min.js');?>"></script>

<script>

$(document).ready(function(){
    console.log(window.name);
       
    });
var timee;
<?php if($this->username=='123'){?>
  timee="11:00:00";
<?php }
?>

<?php if($this->username=='1234'){?>
  timee="14:00:00";
<?php }
?>

function Studentid(){
var x = document.getElementById("myText").value;
  document.getElementById("student_id").innerHTML = x;}
var base_url="<?php echo base_url();?>";
$(document).ready(function(){
  $(document).on('click','.options',function(){
    swal({
    title: "Are you sure?",
    text: "The administration will be notified!",
    type: "warning",
    showCancelButton: true,
    confirmButtonClass: "btn-danger",
    confirmButtonText: "Yes!",
    closeOnConfirm: false
  },
  function(){
    swal("Thank You", "Hall Pass for Admin Notification", "success");
  });
  });
  $(document).on('click','#show_terminal_modal',function(){
    if( $("#student_id").val()){
      console.log($("#student_id").val());
      
     $("#terminal_modal").modal("show");
     }else{
     swal("Please Enter Your Student ID");
    }
  })
    csrfName = '<?php echo $this->security->get_csrf_token_name(); ?>',
    csrfHash = '<?php echo $this->security->get_csrf_hash(); ?>';
  $.ajax({
    url: base_url+"admin/Terminal/test",
    type: "POST",
    dataType: "json",
    data: ({[csrfName]: csrfHash}),
  })
  .done(function (data) {
    console.log(data.Subject)

      $("#terminal_alert_modal").modal('show');
      $("#TimeIn").text(timee);
     $('#TeacherName').html(data.Teacher);
    $('#SubjectName').html(data.Subject);
    $('#AvailableTime').html(data.AvailableUntil);
    $('#AvailableHPTime').html(data.HallPassLock);
  })
  


  var Clock = (function(){

  var exports = function(element) {
    this._element = element;
    var html = '';
    for (var i=0;i<6;i++) {
      html += '<span>&nbsp;</span>';
    }
    this._element.innerHTML = html;
    this._slots = this._element.getElementsByTagName('span');
    this._tick();
  };

  exports.prototype = {

    _tick:function() {
      var time = new Date();
      this._update(this._pad(time.getHours()) + this._pad(time.getMinutes()) + this._pad(time.getSeconds()));
      var self = this;
      setTimeout(function(){
        self._tick();
      },1000);
    },

    _pad:function(value) {
      return ('0' + value).slice(-2);
    },

    _update:function(timeString) {

      var i=0,l=this._slots.length,value,slot,now;
      for (;i<l;i++) {

        value = timeString.charAt(i);
        slot = this._slots[i];
        now = slot.dataset.now;

        if (!now) {
          slot.dataset.now = value;
          slot.dataset.old = value;
          continue;
        }

        if (now !== value) {
          this._flip(slot,value);
        }
      }
    },

    _flip:function(slot,value) {

      // setup new state
      slot.classList.remove('flip');
      slot.dataset.old = slot.dataset.now;
      slot.dataset.now = value;

      // force dom reflow
      slot.offsetLeft;

      // start flippin
      slot.classList.add('flip');

    }

  };

  return exports;
  }());

  var i=0,clocks = document.querySelectorAll('.clock'),l=clocks.length;
  for (;i<l;i++) {
  new Clock(clocks[i]);
  }
})
</script>
